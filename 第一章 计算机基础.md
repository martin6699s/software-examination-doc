

#### 码制

##### 1、各码制(整数、小数)

| 码制        | 整数             | 小数                    |
| ----------- | ---------------- | ----------------------- |
| 原码        | 符号位+(除2取余) | 符号位+(乘2取整)        |
| 反码        | 原码相同         | 符号位+原码非符号位取反 |
| 补码        | 反码相同         | 符号位+反码末位加+1     |
| 移码        | 补码符号位取反   | 补码符号位取反          |

#####  2、码制范围 

| 码制           | 定点整数                        | 定点小数                            |
| -------------- | ------------------------------- | ----------------------------------- |
| 原码           | -(2^(n-1) -1)  ~  +(2^(n-1) -1) | -(1- 2^-(n-1) )  ~  +(1 - 2^-(n-1)) |
| 反码           | -(2^(n-1) -1)  ~  +(2^(n-1) -1) | -(1- 2^-(n-1) )  ~  +(1 - 2^-(n-1)) |
| 补码           | -2^(n-1) ~  +(2^(n-1) -1)       | -1 ~  +(1 - 2^-(n-1))               |
| 移码(2^(n) -1) | -2^(n-1) ~  +(2^(n-1) -1)       | -1 ~  +(1 - 2^-(n-1))               |
|                |                                 |                                     |

练习题1
```
在定点二进制运算器中，减法运算一般通过 （） 来实现。
A.原码运算的二进制减法器
B.补码运算的二进制减法器
C.原码运算的十进制加法器
D.补码运算的二进制加法器
```

```
答案是D

举例说明：
减法5-3相当于加法 5+（-3）
被加数5的二进制代码为 0000 0101

加数-3的二进制代码为 1000 0011
-3的二进制反码为 1111 1100
-3的二进制补码为 1111 1101

即 5-3 相当于5+（-3）=0000 0101+1111 1101=0000 0010=2
```

练习题2

```
两个同符号的数相加或异符号的数相减，所得结果的符号位SF和进位标志CF进行____运算为1时，表示运算的结果产生溢出。
A、与   B、或  C、与非  D、异或
```

```
常见的溢出检测方法有 进位判别法和双符号判别法
（1）双符号位判别法   若采用两位表示符号，即00表示正号、11表示负号，则溢出时两个符号就不一致了，从而可以判定发生了溢出，这需要通过“异或”运算判别。
（2）进位判别法     令C1表示最高数值位向最高位的进位，C2表示符号位的进位，则C1异或C2=1表示溢出。
所以答案选D
```



##### 3、浮点数表示

当机器字长为n时，定位数的补码和移码表示2^(n-1)个数，而其原码和反码只能表示2^(n-1) -1 个数(0占了两个编码)

二进制数N的浮点数表示方法位 N = (2^E)F, 其中E称为阶码，F称为尾数。

在浮点数表示方法中，阶码通常是带符号位的纯整数，尾数为带符号的纯小数。浮点数一般表示方法为

| 阶符 | 阶码 | 尾符 | 尾码 |
| :--: | :--: | :--: | :--: | 

例如1110 0010 1000 0000 , 该书阶码4位(含1位符号)为定点整数；尾数12位(含1位符号)为定点小数。

阶码为移码，尾数为原码，那么1110表示十进制+6，0010 1000 0000因为是小数，所以去掉一位符号位0，剩下010 1000 0000，小数点在最高位，则是 .010 1000 0000, 也就是0.010 1000 0000B，去掉低位部分没用，得到0.0101B

那么浮点数就是 (2^6) X 0.0101B = 010100B = 20, 相当于0.0101B 数向左移动6位，变成了010100.0B

练习题2
```
将十进制数 (13.46)10转换成二进制的数是(1101.0111010111)2，则该数的尾数和阶码分别用16位和8二进制表示的浮点数是（）。

A、 1101011101011100(尾数) 00000100(阶码)
B、 0110101110101110(尾数) 00000100(阶码)
C、 0001101011101011(尾数) 00000100(阶码)
D、 0001101011101011(尾数) 10000100(阶码)
```

```
对于任意一个二进制数N，可用N=S×2P表示，其中S为尾数，P为阶码，2为阶码的底，P、S都用二进制数表示，S表示N的全部有效数字，P指明小数点的位置。 (13.46)10=(1101.0111010111)2=(+0.11010111010111)2*2^4，所以尾数是4,即100，又因其是正数，所以阶码以0开头。 
所以答案选B
```


##### 4、浮点数规格化

规格化浮点数： 规定浮点数在运算结束将运算结果存到机器中时，必须是规格化的浮点数。规格化的浮点数尾数最高位有效数字，则尾数绝对值>=0.5。

要求规格化后，其尾数部分是正数是为0.1xxx的形式；

是负数时，对于原码位1.1xxx的的形式，对于补码，反码为1.0xxx的形式，通过尾数小数点的左右移动和阶码的变化实现; 

在尾数用补码表示时，规格化浮点数应满足尾数最高数位与符号位不同，如相同就是不满足规格化

例如原码+0.0101B, 规格化为0.101B;

练习题3

```
某浮点机，采用规格化浮点数表示，阶码用移码表示（最高位代表符号位），尾数用原码表示。下列哪个数的表示不是规格化浮点数。

A. 阶码：1111111          尾数：1.1000……00
B. 阶码：0011111          尾数：1.0111……01
C. 阶码：1000001          尾数：0.1111……01
D. 阶码：0111111          尾数：0.1000……10
```

```
要求规格化后，其尾数部分是正数是为0.1xxx的形式；那它的移码就是符号位取反，则1.1xxx;
其尾数部分为负数，则是0.1xxx；
则移码尾数点之后第一位不能0
所以答案选B
```



##### 5、浮点数加减运算

计算机在进行浮点数的相加(减)运算之前先进行对阶操作，当X的阶码大于Y的阶码，则应将Y的阶码扩大至与X的阶码相同，且使Y的尾数部分进行算术右移；

例如

```
设两个浮点数 X=Mx*2Ex ，Y=My*2Ey

实现X±Y要用如下5步完成：

（1）对阶操作：小阶向大阶看齐
（2）进行尾数加减运算
（3）尾数规格化处理：尾数进行运算的结果必须变成规格化的浮点数，对于双符号位（就是使用00表示正数，11表示负数，01表示上溢出，10表示下溢出）的补码尾数来说，就必须是
001×××…×× 或110×××…××的形式
若不符合上述形式要进行左规或右规处理。
（4）舍入操作：在执行对阶或右规操作时常用“0”舍“1”入法将右移出去的尾数数值进行舍入，以确保精度。
（5）判结果的正确性：即检查阶码是否溢出

若阶码下溢（移码表示是00…0），要置结果为机器0；
若阶码上溢（超过了阶码表示的最大值）置溢出标志。


```

6、浮点数乘法

```
（1）阶码运算 。（2）尾数想乘（采用Booth算法）。 (3) 规格化： 右规的右移动最多1位。(4) 舍入处理。
    

```



#### 流水线处理机--指令吞吐率

某机采用指令级流水线方式，一条指令执行过程分为k级(段)，每段执行时间为一个时钟周期Ts，且各级(段)执行时间相等，若输入流水线的指令共n条，则完成n条指令所需时间，理想情况为 Tk = (k + n - 1) * Ts;



吞吐率TP = 指令数/执行时间

执行时间 = 第一条执行时间 + (指令数 - 1) * 最长子过程所用的时间

#### Cache

与主存容量相比，Cache的容量很小，它所保存的信息仅是主存信息的一个子集，且cache与主存的信息交换是以块为单位。主存每个块的大小和Cache中块的大小相等，为了把信息放到Cache中，必须事先规定好主存与cache之间的地址映像方式，地址映像的方法有三种：直接映像、全相联映像、组相联映像。

主存分为2^n块，则主存块号为n位。

它们的地址转换图分别如下：

```
（1）直接映射方式下的地址转换
          主存地址：区号+块号B+块内地址W
          Cache地址：块号b + 块内地址w
          对应关系：块号B=块号b ， 块内地址W = 块内地址 w
（2）全相连映射方式下的地址转换
          主存地址：块号B+块内地址W
          Cache地址：块号b + 块内地址w
          对应关系：块号B通过地址变换表对应于块号b ， 块内地址W = 块内地址 w
（3）组相连映射方式下的地址转换
         主存地址：区号E+组号G+组内块号B+块内地址W
         Cache地址：组号g + 组内块号b + 块内地址w
         组间是直接映射关系，组内是全相连映射关系
         对应关系：组号G=组号g，组内块号B通过地址变换表对应于组内块号b ， 块内地址W = 块内地址w
```

Cache性能分析

若H为Cache命中旅，Tc为Cache的存取时间，Tm为主存访问时间，则Cache的平均访问时间Tp 为

Tp = H * Tc + (1 - H) * Tm



练习题1

```

高速缓存Cache与主存间采用全相联的地址影像方式，高速缓存的容量为4MB，分为4块，每块1MB，主存容量为256MB，若主存读写时间为30ns，高速缓存的读写时间为3ns，平均读写时间为3.27ns，则该高速缓存的命中率为 （1） %。若地址更换表如下所示，则主存地址为8888888H时，高速缓存地址为 （2） H。


地址变换表
1	38H
2	88H
3	59H
4	67H

（1）A．90            B．95            C．97            D．99
（2）A．488888        B．388888        C．288888        D．188888
```

```
设该高速缓存的命中率为x，则3x＋30×（1－x）=3.27，解得x=99%。
    主存容量为256MB，每块1MB，则主存可以分为256/1=256=28块
    (1MB = 2^10 * 2^10B, 256MB = 2^8 * 2^20B = 2^28B == 7位16进制)
主存容量为 256MB表示由28个二进制数地址也对应由7个十六进制数8888888H ,每块 IMB说明块内地址是20位二进制数也就是5位十六进制数88888，剩下的2位十六进制数88H代表块地址，查表可知主存地址88H对应高速缓存地址1，所以高速缓存地址为188888H(1MB=2^20，8888888H右移20位(5位16进制)得88H， 查表1-> 88H 得地址188888H)解析：（1）D 这是一道命中率的计算题.设命中率为x,根据题意可以得到3x+30(1-x)=3.27得出：x=0.99
```



#### 多处理机与并行处理

1、阵列处理机（SIMD)—单指令流多数据流

种类：立方体单级互联网络、PM2I单级互联网络、混洗交换单级互联网络

2、多处理机(MIMD)

它由多台处理机组成的系统，是多指令流多数据流的计算机。

3、并行处理机

采用流水结构的单机系统 也属于SIMD计算机，它们的区别在，并行计算机采用资源重复技术，采用流水结构的单机系统采用时间重叠技术。

#### 汉字的编码

有三种类型编码：输入码(又称外码)、内码、字形码。

#### 数据校验方法

1、码距

一个编码系统中任意两个合法编码(码字)之间不同的二进制数为(bit)数叫这两个码字的码距，而整个编码系统中任意两个码字的最小距离就是该编码系统的码距。

码距越大，纠错能力越强，但数据冗余越大。

码间最小距离必须至少是“3”。最小距离为“3”时，或能纠正1个错，或能检2个错，但不能同时纠1个错和检2个错。

2、奇偶校验

3、海明码

海明码码距为3。

4、循环冗余校验码(CRC)



#### 中央处理器

CPU   主要由控制器、运算器两大部分组成。
